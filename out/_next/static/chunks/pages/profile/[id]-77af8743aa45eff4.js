(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[192],{3471:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/[id]",function(){return c(5085)}])},638:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(6856).Z;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(a,b){var c=g.default,f={loading:function(a){return a.error,a.isLoading,a.pastDelay,null}};if(d(a,Promise)?f.loader=function(){return a}:"function"==typeof a?f.loader=a:"object"==typeof a&&(f=e({},f,a)),(f=e({},f,b)).loadableGenerated&&delete(f=e({},f,f.loadableGenerated)).loadableGenerated,"boolean"==typeof f.ssr&&!f.suspense){if(!f.ssr)return delete f.ssr,h(c,f);delete f.ssr}return c(f)},b.noSSR=h;var e=c(6495).Z,f=c(2648).Z,g=(f(c(7294)),f(c(4302)));function h(a,b){return delete b.webpack,delete b.modules,a(b)}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&& void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},6319:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LoadableContext=void 0;var d=(0,c(2648).Z)(c(7294)).default.createContext(null);b.LoadableContext=d},4302:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(9658).Z,e=c(7222).Z;Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var f=c(6495).Z,g=(0,c(2648).Z)(c(7294)),h=c(6319),i=c(7294).useSyncExternalStore,j=[],k=[],l=!1;function m(a){var b=a(),c={loading:!0,loaded:null,error:null};return c.promise=b.then(function(a){return c.loading=!1,c.loaded=a,a}).catch(function(a){throw c.loading=!1,c.error=a,a}),c}var n=function(){function a(b,c){d(this,a),this._loadFn=b,this._opts=c,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return e(a,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var a=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var b=this._res,c=this._opts;b.loading&&("number"==typeof c.delay&&(0===c.delay?this._state.pastDelay=!0:this._delay=setTimeout(function(){a._update({pastDelay:!0})},c.delay)),"number"==typeof c.timeout&&(this._timeout=setTimeout(function(){a._update({timedOut:!0})},c.timeout))),this._res.promise.then(function(){a._update({}),a._clearTimeouts()}).catch(function(b){a._update({}),a._clearTimeouts()}),this._update({})}},{key:"_update",value:function(a){this._state=f({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},a),this._callbacks.forEach(function(a){return a()})}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(a){var b=this;return this._callbacks.add(a),function(){b._callbacks.delete(a)}}}]),a}();function o(a){return function(a,b){var c=function(){if(!o){var b=new n(a,m);o={getCurrentValue:b.getCurrentValue.bind(b),subscribe:b.subscribe.bind(b),retry:b.retry.bind(b),promise:b.promise.bind(b)}}return o.promise()},d=function(){c();var a=g.default.useContext(h.LoadableContext);a&&Array.isArray(m.modules)&&m.modules.forEach(function(b){a(b)})},e=function(a,b){d();var c=i(o.subscribe,o.getCurrentValue,o.getCurrentValue);return g.default.useImperativeHandle(b,function(){return{retry:o.retry}},[]),g.default.useMemo(function(){var b;return c.loading||c.error?g.default.createElement(m.loading,{isLoading:c.loading,pastDelay:c.pastDelay,timedOut:c.timedOut,error:c.error,retry:o.retry}):c.loaded?g.default.createElement((b=c.loaded)&&b.__esModule?b.default:b,a):null},[a,c])},j=function(a,b){return d(),g.default.createElement(m.lazy,f({},a,{ref:b}))},m=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},b);m.suspense&&(m.lazy=g.default.lazy(m.loader));var o=null;if(!l){var p=m.webpack?m.webpack():m.modules;p&&k.push(function(a){var b=!0,d=!1,e=void 0;try{for(var f,g=p[Symbol.iterator]();!(b=(f=g.next()).done);b=!0){var h=f.value;if(-1!==a.indexOf(h))return c()}}catch(i){d=!0,e=i}finally{try{b||null==g.return||g.return()}finally{if(d)throw e}}})}var q=m.suspense?j:e;return q.preload=function(){return c()},q.displayName="LoadableComponent",g.default.forwardRef(q)}(m,a)}function p(a,b){for(var c=[];a.length;){var d=a.pop();c.push(d(b))}return Promise.all(c).then(function(){if(a.length)return p(a,b)})}o.preloadAll=function(){return new Promise(function(a,b){p(j).then(a,b)})},o.preloadReady=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:[];return new Promise(function(b){var c=function(){return l=!0,b()};p(k,a).then(c,c)})},window.__NEXT_PRELOADREADY=o.preloadReady,b.default=o},5085:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return y}});var d,e=c(7568),f=c(4051),g=c.n(f),h=c(5893),i=c(5084),j=c(9477),k=c(1953),l=c(9830),m=c(5343),n=c(8316),o=c(3953),p=c(9669),q=c.n(p),r=c(3321),s=c(5152),t=c.n(s),u=c(1163),v=c(7294),w={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},x=["Music","Animation","Gaming","Entertainment","Comedy"];function y(a){var b=a.mediaa,d=function(a){q().delete("http://122.248.194.111:3004/v1/media/delete/".concat(a)).then(function(a){200===a.status&&(F.push("/"),alert("ustsan"))})},e=function(a){a.preventDefault(),q().put("http://122.248.194.111:3004/v1/media/update/".concat(z&&z),{title:a.target.title.value,description:a.target.description.value,genre:a.target.genre.value}).then(function(a){200===a.status&&(alert("Update hiigdlee"),D(!1))}).catch(function(a){a&&console.error(a)})},f=function(a){F.push("/watch?video=".concat(a))},g=(0,v.useState)([]),p=g[0],s=g[1],y=(0,v.useState)(),z=y[0],A=y[1],B=(0,v.useState)(!1),C=B[0],D=B[1],E=t()(function(){return c.e(4).then(c.bind(c,2004))},{loadableGenerated:{webpack:function(){return[2004]}},ssr:!1}),F=(0,u.useRouter)(),G=F.query.id,H=function(a){A(a),D(!0)},I=b.filter(function(a,b){if(a._id===z)return a}),J=function(){return D(!1)};return(0,v.useEffect)(function(){q().get("http://122.248.194.111:3004/v1/media/video/by/".concat(G)).then(function(a){s(a.data.data)})},[G]),(0,h.jsxs)("div",{style:{height:"100%",padding:"30px",color:"white",backgroundColor:"#343a40"},className:"grid grid-cols-4 gap-7",children:[p.map(function(a,b){return(0,h.jsx)(r.E.div,{className:"box",whileHover:{scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:(0,h.jsxs)("div",{children:[(0,h.jsx)(E,{url:"http://122.248.194.111:3004/v1/media/video/".concat(a._id),controls:!0,width:"100%",height:"25vh",onClick:function(){return f(a._id)}},b),(0,h.jsxs)("div",{className:"flex justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-[20px]",children:a.title}),(0,h.jsxs)("span",{className:"text-[12px] text-[gray]",children:["Views ",a.views]})]}),(0,h.jsxs)("div",{className:"flex gap-2 py-2",children:[(0,h.jsx)(i.Z,{variant:"contained",color:"info",className:"bg-[#0288d1]",onClick:function(){return H(a._id)},children:"edit"}),(0,h.jsx)(i.Z,{variant:"contained",color:"error",className:"bg-[#d32f2f]",onClick:function(){return d(a._id)},children:"delete"})]})]})]})},b)}),(0,h.jsx)("div",{children:(0,h.jsx)(j.Z,{open:C,onClose:J,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,h.jsx)(k.Z,{component:"form",sx:w,onSubmit:e,children:I.map(function(a,b){return(0,h.jsxs)("div",{children:[(0,h.jsx)(l.Z,{required:!0,label:"Title",variant:"standard",name:"title",type:"text",defaultValue:a.title,style:{width:"100%",marginTop:"20px",marginBottom:"20px"}}),(0,h.jsx)(l.Z,{required:!0,label:"Description",variant:"standard",name:"description",type:"text",defaultValue:a.description,style:{width:"100%",marginTop:"20px",marginBottom:"20px"}}),(0,h.jsxs)(m.Z,{fullWidth:!0,style:{marginTop:"10px",marginBottom:"30px"},children:[(0,h.jsx)(n.Z,{variant:"standard",htmlFor:"uncontrolled-native",children:"Genre"}),(0,h.jsx)(o.Z,{name:"genre",defaultValue:a.genre,children:x.map(function(a,b){return(0,h.jsx)("option",{value:a,children:a},b)})})]}),(0,h.jsx)(i.Z,{type:"submit",variant:"contained",style:{backgroundColor:"green",width:"100%",marginTop:"20px",background:"#006c6e"},children:"UPDATE"})]},b)})})})})]})}y.getInitialProps=(d=(0,e.Z)(g().mark(function a(b){var c,d;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,q().get("http://122.248.194.111:3004/v1/media");case 2:return c=a.sent,a.next=5,c.data.data;case 5:return d=a.sent,a.abrupt("return",{mediaa:d});case 7:case"end":return a.stop()}},a)})),function(a){return d.apply(this,arguments)})},5152:function(a,b,c){a.exports=c(638)},7568:function(a,b,c){"use strict";function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function e(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function h(a){d(g,e,f,h,i,"next",a)}function i(a){d(g,e,f,h,i,"throw",a)}h(void 0)})}}c.d(b,{Z:function(){return e}})}},function(a){a.O(0,[774,888,179],function(){var b;return a(a.s=3471)}),_N_E=a.O()}])