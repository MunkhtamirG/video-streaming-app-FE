(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[478],{5943:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/watch",function(){return c(6831)}])},6831:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return H}});var d,e=c(7568),f=c(6042),g=c(603),h=c(4051),i=c.n(h),j=c(5893),k=c(9669),l=c.n(k),m=c(1163),n=c(7294),o=c(2004),p=c(4373),q=c(9830),r=c(5084),s=c(381),t=c.n(s),u=c(6870),v=c(9696),w=c(1359),x=c(5883),y=c(2557),z=c(1818),A=c(5214),B=c(4456),C=c(1890),D=c(9243),E=c(2741),F=n.forwardRef(function(a,b){return(0,j.jsx)(E.Z,(0,f.Z)({elevation:6,ref:b,variant:"filled"},a))});function G(a){var b=a.onClose,c=a.selectedValue,d=a.open,e=function(){b(c)};return(0,j.jsxs)(C.Z,{onClose:e,open:d,children:[(0,j.jsx)(B.Z,{children:"Share"}),(0,j.jsx)(p.Z,{}),(0,j.jsxs)(A.Z,{className:"flex gap-4 p-4",children:[(0,j.jsx)(z.Dk,{url:window.location.href,children:(0,j.jsx)(z.Vq,{size:50,round:!0})}),(0,j.jsx)(z.tq,{url:window.location.href,children:(0,j.jsx)(z.YG,{size:50,round:!0})}),(0,j.jsx)(z.B,{url:window.location.href,children:(0,j.jsx)(z.Zm,{size:50,round:!0})}),(0,j.jsx)(z.UE,{url:window.location.href,children:(0,j.jsx)(z.Y7,{size:50,round:!0})}),(0,j.jsx)(z.N0,{url:window.location.href,children:(0,j.jsx)(z.ud,{size:50,round:!0})})]}),(0,j.jsx)(q.Z,{className:"p-4",defaultValue:window.location.href})]})}function H(a){var b=a.videoDesc,c=function(a){aa.push("/watch?video=".concat(a))},d=function(){S(function(a){return!a})},e=function(){P(function(a){return!a})},f=function(){b.filter(function(a,b){a.postedBy===(null==z?void 0:z.user._id)&&(M(!0),ah(ag+1),window.localStorage.setItem("like",JSON.stringify(ag)))})},h=function(){l().post("http://122.248.194.111:3004/v1/media/view/".concat(ab))},i=function(a){var b=JSON.parse(localStorage.getItem("user")||"user");l().post("http://122.248.194.111:3004/v1/users/playlist",{userId:b.user._id,mediaId:a}).then(function(a){"Already exist"==a.data.data&&(Y("info"),_("Already exist in Watch later playlist")),V(!0)}),J(function(a){return!a})},k=(0,g.Z)(n.useState(!1),2),p=k[0],q=k[1],s=(0,g.Z)(n.useState(),2),z=s[0],A=s[1],B=(0,n.useState)(!1),C=B[0],E=B[1],H=(0,n.useState)(!1),I=H[0],J=H[1],K=(0,n.useState)(!1),L=K[0],M=K[1],N=(0,n.useState)(!1),O=N[0],P=N[1],Q=(0,n.useState)(!1),R=Q[0],S=Q[1],T=(0,g.Z)(n.useState(!1),2),U=T[0],V=T[1],W=(0,g.Z)(n.useState("success"),2),X=W[0],Y=W[1],Z=(0,g.Z)(n.useState("Successfully added in Watch later playlist"),2),$=Z[0],_=Z[1],aa=(0,m.useRouter)(),ab=aa.query.video,ac=function(a,b){"clickaway"!==b&&V(!1)},ad=function(){q(!0),E(function(a){return!a})},ae=function(a){q(!1)},af=(0,n.useState)(0),ag=af[0],ah=af[1],ai=b.filter(function(a){if(a._id===ab)return a});return n.useEffect(function(){A(JSON.parse(localStorage.getItem("user")||"user"))},[]),(0,j.jsxs)("div",{className:"p-6 flex gap-4 justify-center ",style:{backgroundColor:"#343a40",height:"88vh"},children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(o.default,{url:"http://122.248.194.111:3004/v1/media/video/".concat(ab),controls:!0,width:"100%",height:"60vh",onEnded:h}),(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{style:{fontSize:"30px",color:"white"},children:ai[0].title}),(0,j.jsxs)("div",{className:"flex justify-between",children:[(0,j.jsxs)("div",{style:{color:"white",display:"flex",gap:"5px"},children:[(0,j.jsxs)("p",{children:["Views ",ai[0].views]}),"â€¢",(0,j.jsx)("p",{children:t()(ai[0].created).format("MMM DD,YYYY")})]}),(0,j.jsxs)("div",{className:"flex",children:[(0,j.jsxs)(r.Z,{className:"gap-2",onClick:f,sx:{color:L?"red":""},children:[(0,j.jsx)(u.Z,{})," Like"]}),(0,j.jsxs)(r.Z,{className:"gap-2",onClick:d,sx:{color:R?"red":""},children:[(0,j.jsx)(v.Z,{}),"Dislike"]}),(0,j.jsxs)("div",{children:[(0,j.jsxs)(r.Z,{onClick:ad,sx:{color:C?"red":""},children:[(0,j.jsx)(w.Z,{})," Share"]}),(0,j.jsx)(G,{selectedValue:window.location.href,open:p,onClose:ae})]}),(0,j.jsxs)(r.Z,{className:"gap-2",onClick:e,sx:{color:O?"red":""},children:[(0,j.jsx)(x.Z,{}),"Clip"]}),(0,j.jsxs)(r.Z,{className:"gap-2",onClick:function(){i(ai[0]._id)},sx:{color:I?"red":""},children:[(0,j.jsx)(y.Z,{}),"Water Later"]})]})]})]})]}),(0,j.jsxs)("div",{className:"overflow-y-auto grid grid-cols-1 gap-5 h-[60vh]",children:[(0,j.jsx)("div",{style:{backgroundColor:"#006c6e",textAlign:"center",color:"white",padding:"10px"},children:"Related Videos"}),b.map(function(a,b){return(0,j.jsx)(o.default,{url:"http://122.248.194.111:3004/v1/media/video/".concat(a._id),controls:!0,width:"20vw",height:"fit-content",onClick:function(){return c(a._id)}},b)})]}),(0,j.jsx)(D.Z,{open:U,autoHideDuration:6e3,onClose:ac,children:(0,j.jsx)(F,{onClose:ac,severity:X,sx:{width:"100%"},children:$})})]})}H.getInitialProps=(d=(0,e.Z)(i().mark(function a(b){var c,d;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l().get("http://122.248.194.111:3004/v1/media");case 2:return c=a.sent,a.next=5,c.data.data;case 5:return d=a.sent,a.abrupt("return",{videoDesc:d});case 7:case"end":return a.stop()}},a)})),function(a){return d.apply(this,arguments)})}},function(a){a.O(0,[885,4,875,774,888,179],function(){var b;return a(a.s=5943)}),_N_E=a.O()}])